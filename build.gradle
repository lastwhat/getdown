buildscript {
	repositories {
		maven { url "http://repo.spring.io/libs-release" }
		mavenLocal()
		mavenCentral()
	}
	dependencies {
		classpath("org.springframework.boot:spring-boot-gradle-plugin:1.1.5.RELEASE")
	}
}


//plugins
apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'eclipse'
apply plugin: 'spring-boot'


//java configuration
sourceCompatibility = '1.8'
targetCompatibility = '1.8'


//eclipse configuration
eclipse.project {
	natures 'org.springsource.ide.eclipse.gradle.core.nature'
}
eclipse.classpath {
	containers 'org.springsource.ide.eclipse.gradle.classpathcontainer'
}

//project properties
version = '0.1'
mainClassName = 'io.github.lumue.getdown.Main'


//dependencies
repositories {
	mavenLocal()
    mavenCentral()
    maven { url "http://repo.spring.io/libs-release" }
}
dependencies {
	
	compile("org.springframework.boot:spring-boot-starter-web")
	compile("org.springframework.boot:spring-boot-starter-logging")
	
	compile 'com.google.http-client:google-http-client:1.19.0'
	
	testCompile("org.springframework.boot:spring-boot-starter-test")
	
	testCompile 'junit:junit:4.11'
}


//dart tasks
task pubBuild(type:Exec) {
	workingDir 'src/main/dart'
	commandLine 'pub','build','web','--output','../../../src/main/resources/static'
}

task pubGet(type:Exec) {
	workingDir 'src/main/dart'
	commandLine 'pub','get'
}

