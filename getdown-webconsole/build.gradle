processResources.dependsOn 'bowerInstall'

jar.dependsOn 'gulp'

task npmInstall( type: Exec){
	workingDir '.'
	executable = 'npm'
	args = ['install']
}


// Install the bower components for front-end library management
task bowerInstall( type: Exec, dependsOn: npmInstall){
	workingDir '.'
	commandLine "bower", 'install','-f'
}

task gulp(type: Exec, dependsOn: bowerInstall){
	workingDir '.'
	executable='gulp'
}



clean.doFirst {
	delete 'src/main/resources/static/webconsole/bower_components'
}