<link rel="import" href="packages/polymer/polymer.html">
<link rel="import" href="packages/paper_elements/paper_shadow.html">
<link rel="import" href="add_download_form.html">
<polymer-element name="download-list"> <template>

<style>
  section {
        padding: 4px;
        margin-top: 2px;
      }
</style>

<section on-downloadrequested="{{addDownload}}">
  <paper-shadow z="1"></paper-shadow>
  <add-download-form></add-download-form>
</section>

<section>
  <paper-shadow z="1"></paper-shadow>
  <table width="100%">
    <thead>
      <tr>
        <th align="left" width="20%">filename</th>
        <th align="left" width="50%">url</th>
        <th align="left" width="5%">state</th>
        <th align="left" width="5%">size</th>
        <th align="left" width="20%">progress</th>
      </tr>
    </thead>
    <tbody>
      <tr template repeat="{{download in downloads}}">
        <td align="left">{{download.name}}</td>
        <td align="left">{{download.url}}</td>
        <td align="left">{{download.state}}</td>
        <td align="right">{{(download.size/1024).round()}}Kb</td>
        <td align="right" width="20%">
        	<progress style="float: left;" id="progress" max="{{download.size}}" value="{{download.progress}}">       		
        	</progress>
        	<span>{{(download.progress/1024).round()}}Kb</span>
        	<span>({{((download.progress*100)/download.size).round()}}%)</span>
        </td>
      </tr>
    </tbody>
  </table>
</section>
	
<script type="application/dart" src="download_list.dart"></script> </template> </polymer-element>