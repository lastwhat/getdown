<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="download-view">
	<template>

		<style>
			:host {
				display: block;
			}

			.content {
				padding: 16px;
				height: 100%;
			}

			.content paper-toolbar {
				--paper-toolbar-height: 32px;
				--paper-toolbar-background: red;
			}

			paper-material {
				width: calc(98% - 46px);
				margin-bottom: 32px;
			}
		</style>

		<download-data id="data"
				       active="{{active}}"
		               waiting="{{waiting}}"
		               finished="{{finished}}"
		               failed="{{failed}}">
		</download-data>

		<paper-toolbar id="toolbar">
			<paper-icon-button id="paperToggle" icon="menu" paper-drawer-toggle></paper-icon-button>
			<span class="title">downloads</span>
			<paper-icon-button icon="refresh"></paper-icon-button>
			<paper-icon-button icon="add">+</paper-icon-button>
		</paper-toolbar>

		<!-- Main Content -->
		<div class="content">
			<paper-material elevation="1" style="width: 100%;">
				<paper-toolbar middleJustify>
					<span class="title" style="margin-left:1px;">active</span>
					<paper-icon-button icon="refresh"
					                   on-tap="refreshactive">
					</paper-icon-button>
				</paper-toolbar>
				<section>
					<download-list downloads="{{active}}">
					</download-list>
				</section>
			</paper-material>
		</div>
	</template>
	<script>
		(function () {
			'use strict';

			Polymer({
				is: 'download-view',

				properties: {
					active: {
						type: Array,
						notify: true
					},
					waiting: {
						type: Array,
						notify: true
					},
					failed: {
						type: Array,
						notify: true
					},
					finished: {
						type: Array,
						notify: true
					}
				},
				refreshactive: function(){
					this.$.data.reloadActive();
				}

			});
		})();
	</script>
</dom-module>
